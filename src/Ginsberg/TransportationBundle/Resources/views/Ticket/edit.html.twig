{% extends 'GinsbergTransportationBundle::admin_layout.html.twig' %}

{% block body -%}
  <div class="record_actions">
    <span class='back button'>
        <a href="{{ path('ticket') }}">
            Back
        </a>
    </span>
    <span class='button'>
      <a href="{{ path('reservation')}}{{ edit_form.reservation.vars.value }}">
          Owning Reservation
      </a>
    </span>
    <span class='button'>
      <a href="{{ path('person')}}{{ edit_form.vars.data.reservation.person }}">
          Driver
      </a>
    </span>
    <span class='delete button'>{{ form(delete_form) }}</span>
  </div>
    <h1>Update Ticket {{ entity.id }}</h1>

    {{ form_start(edit_form) }}
      {{ form_errors(edit_form) }}
      <div>
        <label for="ticket_reservation_person_uniqname">
          Driver uniqname
        </label>
        <input type="text" id="ticket_reservation_person_uniqname" 
               name="ticket_reservation_person_uniqname" disabled="disabled" value="{{ edit_form.vars.data.reservation.person }}" />
      </div>
      {{ form_row(edit_form.reservation) }}
      {{ form_row(edit_form.ticketDate) }}
      {{ form_row(edit_form.reason) }}
      {{ form_row(edit_form.location) }}
      {{ form_row(edit_form.amount) }}
      {{ form_row(edit_form.isPaid) }}
      {{ form_row(edit_form._token) }}
      
      {{ form_row(edit_form.submit, {'label': 'Update' }) }}
      
    {{ form_end(edit_form, {'render_rest': false}) }}

{% endblock %}
{% block javascripts %}
  {% javascripts 
    '@GinsbergTransportationBundle/Resources/public/js/ticket.js' %}
    {{ parent() }}
    <script src="{{ asset_url }}"></script>
  {% endjavascripts %}
{% endblock %}
